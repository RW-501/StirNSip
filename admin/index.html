<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin | Stir & Sip</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <!-- NAVIGATION -->
  <nav class="navbar">
    <div class="nav-brand"><a href="index.html" class="home"> Stir & Sip Admin</a></div>
    <ul class="nav-links">
      <li><a href="admin.html" class="active">Dashboard</a></li>
      <li><a href="#admin-classes-list">View Classes</a></li>
      <li><a href="settings">Settings</a></li>
      <li><a href="logout.html">Logout</a></li>
    </ul>
  </nav>

  <main>

<!-- Login screen (hidden by default) -->
<section id="login-screen" style="display:none; max-width:400px; margin:2rem auto;">
  <h2>Admin Login</h2>

  <button id="googleLoginBtn">Login with Google</button>
  <button id="phoneLoginBtn">Login with Phone</button>

  <div id="phoneLoginForm" style="display:none; margin-top:1rem;">
    <input type="tel" id="phoneNumber" placeholder="+1 555-555-5555" />
    <button id="sendCodeBtn">Send Code</button>
    <input type="text" id="verificationCode" placeholder="Enter code" style="display:none; margin-top:0.5rem;" />
    <button id="verifyCodeBtn" style="display:none; margin-top:0.5rem;">Verify Code</button>
  </div>

  <p id="loginError" style="color:red;"></p>
</section>


    <div id="site-settings" style="display:none;">

    <h1>Admin Dashboard</h1>

    <!-- ADD / EDIT CLASS FORM -->
    <form id="class-form">
      <input type="hidden" id="classId" />
      <input type="text" id="className" placeholder="Class Name" required />
      <input type="date" id="classDate" required />
      <input type="time" id="classTime" required />
      <textarea id="classDescription" placeholder="Description" required></textarea>
      <textarea id="classRecipe" placeholder="Recipe / Extra Info (optional)"></textarea>

      <label>
        <input type="checkbox" id="classVisible" checked />
        Visible
      </label>

            <!-- Classes Info -->
      <label for="classCost">Class Cost ($):</label>
      <input type="number" id="classCost" min="0" step="0.01" />

      <label for="classSize">Class Size:</label>
      <input type="number" id="classSize" min="1" />

      <label for="spotsAvailable">Spots Available:</label>
      <input type="number" id="spotsAvailable" min="0" />

      <!-- Vibe -->
      <label for="classVibe">Vibe:</label>
      <select id="classVibe">
        <option value="">-- Select Vibe --</option>
        <option value="hip hop">Hip Hop</option>
        <option value="hype">Hype</option>
        <option value="old skool">Old Skool</option>
      </select>
      <label for="classCover">Class Cover Image:</label>
      <select id="classCover">
        <option value="">-- Select Cover --</option>
      </select>
      <img id="coverPreview" src="" alt="Cover Preview" style="max-width:200px; display:block; margin-top:0.5rem;" />

      <button type="submit">Save Class</button>
      <button type="button" id="cancelEdit" style="display:none;">Cancel Edit</button>
    </form>

    <hr/>

    <!-- CLASSES LIST -->
    <div id="admin-classes-list"></div>

    <hr/>
<!-- GALLERY UPLOAD SECTION -->
<section id="gallery-section">
  <h2>Event / Class Gallery</h2>

  <div id="drop-zone" style="border:2px dashed #aaa; padding:1rem; text-align:center; margin-bottom:1rem;">
    Drag & Drop Images Here
  </div>

  <form id="gallery-form">
    <input type="file" id="galleryImage" accept="image/*" multiple hidden />
    <input type="text" id="galleryGroup" placeholder="Group / Category" />
    <label>
      <input type="checkbox" id="galleryCover" />
      Set as Cover Image
    </label>
    <button type="submit">Upload Image</button>
  </form>

  <!-- unified ID (only one!) -->
  <div id="galleryList" style="display:flex; flex-wrap:wrap; gap:10px;"></div>
</section>

</div>


  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <p>&copy; <span id="year"></span> Stir & Sip. Admin Panel.</p>
  </footer>

  <!-- Firebase -->
  <script src="admin.js" type="module"></script>
  <script src="sortable.js" type="module"></script>

  <script>
    // Auto-update year
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
