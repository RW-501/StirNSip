<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin | Stir & Sip</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <!-- NAVIGATION -->
  <nav class="navbar">
    <div class="nav-brand">ðŸ¥„ Stir & Sip Admin</div>
    <ul class="nav-links">
      <li><a href="admin.html" class="active">Dashboard</a></li>
      <li><a href="classes.html">View Classes</a></li>
      <li><a href="settings.html">Settings</a></li>
      <li><a href="logout.html">Logout</a></li>
    </ul>
  </nav>

  <main>
    <h1>Admin Dashboard</h1>

    <!-- ADD / EDIT CLASS FORM -->
    <form id="class-form">
      <input type="hidden" id="classId" />
      <input type="text" id="className" placeholder="Class Name" required />
      <input type="date" id="classDate" required />
      <input type="time" id="classTime" required />
      <textarea id="classDescription" placeholder="Description" required></textarea>
      <textarea id="classRecipe" placeholder="Recipe / Extra Info (optional)"></textarea>

      <label>
        <input type="checkbox" id="classVisible" checked />
        Visible to Patrons
      </label>

      <label for="classCover">Class Cover Image:</label>
      <select id="classCover">
        <option value="">-- Select Cover --</option>
      </select>
      <img id="coverPreview" src="" alt="Cover Preview" style="max-width:200px; display:block; margin-top:0.5rem;" />

      <button type="submit">Save Class</button>
      <button type="button" id="cancelEdit" style="display:none;">Cancel Edit</button>
    </form>

    <hr/>

    <!-- CLASSES LIST -->
    <div id="admin-classes-list"></div>

    <hr/>

    <!-- GALLERY UPLOAD SECTION -->
    <section id="gallery-section">
<h2>Event / Class Gallery</h2>

<div id="drop-zone" style="border:2px dashed #aaa; padding:1rem; text-align:center; margin-bottom:1rem;">
  Drag & Drop Images Here
</div>

<form id="gallery-form">
  <input type="file" id="galleryImage" accept="image/*" multiple />
  <input type="text" id="galleryEvent" placeholder="Event/Class Name" required />
  <input type="date" id="galleryDate" required />
  <input type="text" id="galleryLocation" placeholder="Location" />
  <input type="text" id="galleryGroup" placeholder="Group / Category" />
  <label>
    <input type="checkbox" id="galleryCover" />
    Set as Cover Image
  </label>
  <button type="submit">Upload Image</button>
</form>

<div id="gallery-list" style="display:flex; flex-wrap:wrap; gap:10px;"></div>

    </section>

  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <p>&copy; <span id="year"></span> Stir & Sip. Admin Panel.</p>
  </footer>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js" type="module"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js" type="module"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage.js" type="module"></script>
  <script src="/admin/admin.js" type="module"></script>
  <script src="sortable.js" type="module"></script>

  <script>
    // Auto-update year
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
